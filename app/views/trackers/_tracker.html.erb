<li class="mb-4">
  <div>
    <div class="whitespace-nowrap p-2"><span class="font-bold"><%= tracker.name %></span>:</div>

    <div class="ml-8 flex flex-row flex-wrap gap-2 items-baseline">
      <% if tracker.template.is_a?(TrackerTemplate::Attributes) %>
        <% tracker.template.definition.each do |element| %>
          <%= render_tracker_template_element(element, value: tracker_value(tracker, element['name']), changed: tracker_changed?(tracker, element['name']), display: local_assigns[:display], readonly: local_assigns[:readonly]) %>
        <% end %>
      <% elsif tracker.template.is_a?(TrackerTemplate::CardDeck) %>
        <% tracker_cards(tracker).each do |card| %>
          <div class="flex flex-col border border-blue-900 rounded-lg shadow-md w-64 min-h-64 text-sm overflow-hidden indent-0">
            <% tracker.template.definition.each_with_index do |element, idx| %>
              <%= render_tracker_template_element(element, value: card[element['name']], changed: tracker_changed?(tracker, element['name'], idx), display: local_assigns[:display], readonly: local_assigns[:readonly]) %>
            <% end %>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
</li>
